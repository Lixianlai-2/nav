{"mappings":"AAAA,MAAMA,UAAYC,EAAE,aACdC,QAAUF,UAAUG,KAAK,WACzBC,YAAc,SAAUC,GAEM,OAChCA,EACGC,QAAQ,WAAY,IACpBA,QAAQ,UAAW,IACnBA,QAAQ,OAAQ,IAChBA,QAAQ,OAAQ,IAEgBA,QAAzB,OAAS,KAIjBC,OAAM,KACVP,UAAUG,KAAK,mBAAmBK,SAClCC,QAAQC,SAAO,CAAEC,EAASC,KACxB,MAAMC,EAAMZ,EAAC,uGAmBZU,EAAAG,KAAA,iEAG2BV,YAAMO,EAAAN,qQAUrCU,aAAAb,SAE0DW,EAAAG,GAAA,SAAA,KACrDC,OAAAC,KAAiBP,EAAGN,QAIpBQ,EAAAG,GAAO,QAAG,UAAmBG,IAChCA,EAAAC,kBAAeX,QAAwBY,OAAAT,EAAA,GACvCL,kCAGiCe,aAAAC,QAAA,qBACjCC,eAAAC,KAAAC,MAAAC,mBACHC,QAACC,IAAAL,gBAED,MAAAf,QAAYe,gBAAO,CACmB,CAChCV,KAAA,IAEET,IAAI,wBAEJ,CACIS,KAAE,IACRT,IAAG,sBAEP,CACmDS,KAAA,IAC/CT,IAAI,sCAGPwB,IAAApB,0BAGCoB,IAA+BpB,uBAG1BO,GAAG,SAAA,KACV,IAGDc,EAHEzB,EAAAY,OAAAc,OAAA,cAEDH,QAAMC,IAAAxB,IAIuB,IAAxBA,EAAA2B,QAAA,UACoBF,EAAAzB,EACbA,EAAN,WAAgBA,GAIoBI,QAAAwB,KAAA,CAE1CnB,KAAYV,YAAWC,GAAI,GAAM6B,cACdC,SAAA,OACO9B,IAAlBA,IAERE","sources":["src/main.js"],"sourcesContent":["const $siteList = $(\".siteList\");\r\nconst $lastLi = $siteList.find(\".lastLi\");\r\nconst simplifyUrl = function (url) {\r\n  // 注意原字符串不会改变，所以这里直接return\r\n  return (\r\n    url\r\n      .replace(\"https://\", \"\")\r\n      .replace(\"http://\", \"\")\r\n      .replace(\"www.\", \"\")\r\n      .replace(\".com\", \"\")\r\n      // 用正则表达式，删除/之后的所有代码\r\n      .replace(/\\/.*/, \"\")\r\n  );\r\n};\r\n\r\nconst render = () => {\r\n  $siteList.find(\"li:not(.lastLi)\").remove();\r\n  hashMap.forEach((siteObj, index) => {\r\n    const $li = $(`\r\n    <li>\r\n            <div class=\"site\">\r\n                <div class=\"logo\">\r\n                    ${siteObj.logo[0]}\r\n                </div>\r\n                <div class=\"link\">${simplifyUrl(siteObj.url)}</div>\r\n                <div class=\"close\">\r\n                    <svg class=\"icon\" aria-hidden=\"true\"> \r\n                      <use xlink:href=\"#icon-Close\"></use> \r\n                    </svg>\r\n                </div>\r\n            </div>\r\n    </li>\r\n    `).insertBefore($lastLi);\r\n\r\n    // 当点击li的时候，使用window.open\r\n    $li.on(\"click\", () => {\r\n      window.open(siteObj.url);\r\n    });\r\n\r\n    // 这里就相当于在点击close按钮了\r\n    $li.on(\"click\", \".close\", (e) => {\r\n      e.stopPropagation();\r\n\r\n      // 删除当前所在的页面\r\n      hashMap.splice(index, 1);\r\n\r\n      // 删除后重新渲染页面\r\n      render();\r\n    });\r\n  });\r\n};\r\n// let noHttpsUrl;\r\n// JSON.parse(localStorage.getItem(\"saveHashMapString\")) ||\r\nconst saveHashMapString = localStorage.getItem(\"saveHashMapString\");\r\nconst saveHashMapObj = JSON.parse(saveHashMapString);\r\nconsole.log(saveHashMapObj);\r\n\r\nconst hashMap = saveHashMapObj || [\r\n  { logo: \"B\", url: \"https://bilibili.com\" },\r\n  { logo: \"G\", url: \"https://github.com\" },\r\n  {\r\n    logo: \"S\",\r\n    url: \"https://stackoverflow.com\",\r\n  },\r\n];\r\n\r\nconsole.log(hashMap);\r\n// 这里用render是因为需要读取目前local storage中的内容\r\nrender();\r\n\r\nconsole.log(hashMap);\r\n// -----------------------------------------\r\n// 添加新网站\r\n$(\".newSite\").on(\"click\", () => {\r\n  let url = window.prompt(\"输入您想添加的网址吧\");\r\n  console.log(url);\r\n  let noHttpsUrl;\r\n  //   indexOf()方法返回在数组中可以找到一个给定元素的第一个索引，如果不存在，则返回-1。\r\n  if (url.indexOf(\"http\") === -1) {\r\n    noHttpsUrl = url;\r\n    url = \"https://\" + url;\r\n  }\r\n  // push是将参数放到数组的最后\r\n  hashMap.push({\r\n    // 取简化后的首字母作为logo，然后对这个字母进行大写处理\r\n    logo: simplifyUrl(url)[0].toUpperCase(),\r\n    logoType: \"text\",\r\n    url: url,\r\n  });\r\n\r\n  render();\r\n});\r\n\r\n// 当关闭页面时，存储hashMap中的内容到localStorage\r\nwindow.onbeforeunload = () => {\r\n  // console.log(\"页面要关闭了\");\r\n  const hashMapString = JSON.stringify(hashMap);\r\n  localStorage.setItem(\"saveHashMapString\", hashMapString);\r\n};\r\n\r\n// -----------------------------------------\r\n// 键盘导航\r\n$(document).on(\"keypress\", (e) => {\r\n  // 在键盘上打出什么，key就是什么\r\n  console.log(e.key);\r\n  const { key } = e;\r\n  for (let i = 0; i < hashMap.length; i++) {\r\n    // 遍历hashMap，如果它的logo小写等于我们输入的键盘事件key，那么就让用winodw.open打开相应网页\r\n    if (hashMap[i].logo.toLowerCase() === key) {\r\n      window.open(hashMap[i].url);\r\n    }\r\n  }\r\n});\r\n"],"names":["$siteList","$","$lastLi","find","simplifyUrl","url","replace","render","remove","hashMap","forEach","siteObj","index","$li","logo","insertBefore","on","window","open","e","stopPropagation","splice","localStorage","getItem","saveHashMapObj","JSON","parse","saveHashMapString","console","log","noHttpsUrl","prompt","indexOf","push","toUpperCase","logoType"],"version":3,"file":"index.f09d22e0.js.map"}